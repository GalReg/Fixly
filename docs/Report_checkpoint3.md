# Чекпоинт 3: Интерфейс и Деплой

## Функционал интерфейса

Telegram-бот Fixly предоставляет следующий функционал:

**Основные возможности:**
- Приветственное сообщение при командах `/start` или `/help`
- Интеллектуальный диалог с уточняющими вопросами (до 4 реплик)
- Автоматический переход к генерации сметы при сборе достаточной информации
- Структурированный вывод предварительной оценки работ
- Обработка ошибок: Корректные сообщения об ошибках при различных сценариях

**Процесс работы:**
1. Пользователь описывает проблему
2. Бот задает уточняющие вопросы для диагностики
3. После 4 реплик или при наличии триггерной фразы "готовлю смету"
4. Система ищет релевантные инструкции в базе знаний
5. Генерируется предварительная смета с вероятной причиной и списком работ

## Скриншоты интерфейса

1. Пример работы бота (проблема с чайником)

![Пример работы бота (проблема с чайником)](Screenshot_checkpoint3_1.png)

2. Пример работы бота (вопрос по стиральной машине)

![Пример работы бота (вопрос по стиральной машине)](Screenshot_checkpoint3_2.png)

3. Пример работы бота (проблема с экраном смартфона)

![Пример работы бота (проблема с экраном смартфона)](Screenshot_checkpoint3_3.png)

## Инструкция по запуску из README

```bash
# Клонирование репозитория
git clone https://github.com/GalReg/Fixly.git
# Может потребоваться git-lfs для клонирования файлов из директории vectorstore
cd Fixly

# Настройка переменных окружения
cp .env.example .env
# Отредактируйте .env файл, добавив реальные значения:
# TELEGRAM_BOT_TOKEN=your_actual_bot_token
# YANDEX_API_KEY=your_actual_yandex_api_key
# YANDEX_FOLDER_ID=your_actual_folder_id

# Запуск с Docker Compose
docker-compose build telegram-bot
docker-compose up -d

# Просмотр логов
docker-compose logs -f telegram-bot
```

## Финальные метрики качества системы

На основе оценки 1000 диалогов с использованием подхода LLM-as-a-Judge:

| Критерий | Средняя оценка |
|----------|----------------|
| Диагностическая правдоподобность | 7.55 / 10 |
| Учёт информации из диалога | 8.51 / 10 |
| Логичность и непротиворечивость | 8.58 / 10 |
| Полнота предварительной оценки | 6.53 / 10 |
| Соответствие работ/запчастей диагнозу | 7.34 / 10 |
| Безопасность и отсутствие вредных советов | 9.95 / 10 |
| Ясность и понятность для пользователя | 8.96 / 10 |
| Пригодность ответа к действию | 7.73 / 10 |
| Корректная работа с неопределённостью | 9.75 / 10 |
| Соответствие бизнес-логике сервиса | 9.85 / 10 |
| Релевантность контекста | 4.39 / 10 |

**Общая средняя оценка: 8.10 / 10**